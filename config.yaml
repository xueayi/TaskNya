# 深度学习任务监控配置文件
monitor:
  # 基本配置
  project_name: "深度学习训练"     # 项目名称
  check_interval: 5               # 检查间隔(秒)
  logprint: 60                     # 日志打印间隔（秒）
  timeout: None                   # 监控超时时间(秒)，设为null则无限等待
  
  # 文件检查配置
  check_file_enabled: true         # 是否启用文件检查
  check_file_path: "./output/model_final.pth"  # 要检查的文件路径
  
  # 日志检查配置
  check_log_enabled: false          # 是否启用日志检查
  check_log_path: "./logs/training.log"  # 日志文件路径
  check_log_markers:               # 完成标记列表
    - "Training completed"
    - "任务完成"
    - "训练完成"
    - "Epoch [300/300]"
  
  # GPU功耗检查配置
  check_gpu_power_enabled: false   # 是否启用GPU功耗检查
  check_gpu_power_threshold: 50.0  # 功耗阈值(瓦特)
  check_gpu_power_gpu_ids: "all"   # 可以是数字、列表[0,1]或"all"
  check_gpu_power_consecutive_checks: 3  # 连续几次检测低于阈值才判定完成

# 飞书webhook配置
webhook:
  enabled: true                    # 是否启用webhook通知
  url: "https://open.feishu.cn/open-apis/bot/v2/hook/yoururl"  # webhook URL
  
  # 消息配置
  title: "🎉 深度学习训练完成通知"  # 消息标题
  color: "green"                   # 卡片颜色: green, blue, red, grey, turquoise
  
  # 要包含的信息项
  include_project_name: true                # 包含项目名称
  include_project_name_title: "训练项目"       # 包含项目名称
  include_start_time: true                  # 包含开始时间
  include_start_time_title: "训练开始"    # 包含开始时间
  include_end_time: true                    # 包含结束时间
  include_end_time_title: "训练结束时间"      # 包含结束时间
  include_method: true                      # 包含判断方法
  include_method_title: "系统判断依据"        # 包含判断方法
  include_duration: true                    # 包含任务时长
  include_duration_title: "总耗时"           # 包含任务时长
  include_hostname: true                    # 包含主机名
  include_hostname_title: "主机名"           # 包含主机名
  include_gpu_info: true                    # 包含GPU信息
  include_gpu_info_title: "GPU信息"          # 包含GPU信息

  footer: "此消息由TaskNya发送"  # 页脚信息
